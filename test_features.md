# LumiDisk 新機能動作確認ガイド

## 実装された新機能

### 1. 重複ファイル検出機能 🔍
- **機能**: SHA-256ハッシュによる重複ファイル検出
- **テスト方法**: 
  1. アプリケーションを起動
  2. `test_directory`を選択してスキャン実行
  3. 「重複検出」ボタンをクリック
  4. 重複ファイル（test1.txtとtest3.txt、test4.txtとtest5.txt）が検出されることを確認

### 2. 増分スキャン機能 ⚡
- **機能**: 前回スキャンとの差分検出による高速再スキャン
- **テスト方法**:
  1. 初回スキャン実行
  2. ファイルを追加・変更
  3. 「増分スキャン」ボタンをクリック
  4. 変更されたファイルのみが再スキャンされることを確認

### 3. 高度な可視化機能 📊
- **ツリーマップ**: ディレクトリ構造の階層表示
- **拡張子統計**: ファイルタイプ別の詳細分析
- **テスト方法**:
  1. スキャン完了後、「ツリーマップ」ボタンをクリック
  2. 「拡張子統計」ボタンをクリック
  3. 各ダイアログで詳細情報が表示されることを確認

### 4. パフォーマンス最適化 🚀
- **仮想化テーブル**: 大量データの効率的表示
- **非同期処理**: UIの応答性向上
- **テスト方法**:
  1. 大量ファイルを含むディレクトリをスキャン
  2. テーブルのスクロールがスムーズであることを確認
  3. ページング機能が正常に動作することを確認

## テスト用ディレクトリ構造

```
test_directory/
├── test1.txt (重複ファイル)
├── test2.txt
├── test3.txt (重複ファイル - test1.txtと同じ内容)
└── subdir/
    ├── test4.txt (重複ファイル)
    └── test5.txt (重複ファイル - test4.txtと同じ内容)
```

## 期待される結果

### 重複検出
- 2つの重複グループが検出される
- test1.txtとtest3.txt（20バイト）
- test4.txtとtest5.txt（36バイト）

### 増分スキャン
- 初回はフルスキャン
- 2回目以降は差分のみスキャン
- スキャン時間の大幅短縮

### 可視化
- ツリーマップでディレクトリ構造が表示
- 拡張子統計で.txtファイルが主要なファイルタイプとして表示

### パフォーマンス
- 大量ファイルでもスムーズな表示
- メモリ使用量の最適化
- 非同期処理によるUI応答性の向上

## ログ確認

アプリケーションの動作は `logs/lumidisk.log` で確認できます：
- スキャン開始・完了ログ
- 重複検出ログ
- エラーログ（もしあれば）

## 注意事項

- Java 21が必要
- JavaFXが正常に動作する環境が必要
- 大量ファイルのスキャン時は時間がかかる場合があります
